## Serverless JWT Authentication with NodeJS
A serverless NodeJS API built with TypeScript to provide JWT authentication and authorisation at the serverless level. 

Built with TypeScript, NodeJS, Mongoose and MongoDB.

Given the lack of material regarding custom user authentication APIs with Azure Functions, and the cryptic documentation provided by Microsoft on writing functions with TypeScript, I thought I'd implement my own.

## Features & Notes
Access tokens are generated for login and register functions, alongside a refresh token sent as a HTTP cookie.
Access tokens can be generated by the refreshAccessTokens function, and refresh tokens can be revoked through revokeRefreshToken. This works by storing a token version in the database. When this function is hit, the token version is incremented, invalidating all refresh tokens associated with that user. 

## Dealing with middleware
As of now, Azure Functions with NodeJS have minimal support for common Express middleware you'd find doing custom JWT authentication with Express web servers. This was solved by introducting a helper function around each function request to verify the token and pass it as an argument for database querying. 


