## Serverless JWT Authentication with NodeJS
A serverless NodeJS API built with TypeScript to provide JWT authentication and authorisation. 

Built with TypeScript, NodeJS, Mongoose and MongoDB.

## Features & Notes
Access tokens are generated for login and register functions, alongside a refresh token sent as a HTTP cookie.
Access tokens can be generated by the refreshAccessTokens function, and refresh tokens can be revoked through revokeRefreshToken. This works by storing a token version in the database. When this function is hit, the token version is incremented, invalidating all refresh tokens associated with that user. For access token generation, the refresh token cookie must be sent with the request.

## Dealing with middleware
Azure Functions offers minimal support for Express middleware. Typical use cases with an Express backend use middleware for decoding and verifying the user before accessing protected resources. This is not possible with Azure Functions, and was solved by introducting a helper function around each function request to verify the token and pass it as an argument for database querying.


